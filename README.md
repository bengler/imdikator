Imdikator frontend [![Build Status](https://travis-ci.org/bengler/imdikator.svg?branch=master)](https://travis-ci.org/bengler/imdikator)[![Dependency status](https://david-dm.org/bengler/imdikator.svg)](https://david-dm.org/bengler/imdikator)
==================

# Application summary

The entire stand alone React front-end application for [IMDi - Tall og Statistikk](http://www.imdi.no/tall-og-statistikk/). Contains charting library based on D3 that supports Norwegian Central Bureau of Statistics conventions for missing and suppressed data.

# Prerequisites

- Node.js (v6.x or later)
- npm (v3.x or later)

# Getting started

    npm install
    npm start

Now the app should be up and running on http://localhost:3000

# Important files

### cardpages.json
 -> Specifiaction against Visma backend. Name of pages = name of tables.

### queryResultPresenter.js
 -> Check data from Visma. (What the data looks like, how to present it etc)

### chartTypes.js
 -> mappings for how many dimensions each chart type allows

# Application structure

    ├── /actions
    │   ├── /ActionTypes.js        - Action constants used by actions/reducers
    │   └── /*.js                  - Redux action creators
    │
    ├── /bin
    │   ├── / server.js             - SERVER: Starts express server - (ONLY FOR DEV)
    │   ├── / *calculateSimilar.js  - Process data and find similar counties in terms of size/other data
    │   └── / *.js                  - Various data processing helpers. Generates .json data files (OLD)
    │
    ├── /bundles
    │   ├── /debug                  - CLIENT: Local debug page available at `/debug/embeds/`
    │   ├── /embeds                 - CLIENT: Renders the "embed" version of the app (allows multiple instances)
    │   ├── /site                   - CLIENT: Renders the "site" version of the app (single instance)
    │   └── / loader.js             - FIRST ENTRY - bootstraps application based on type(s) required
    │
    ├── /components
    │   ├── / *.jsx                 - React components (mixed)
    │   └── /testbed                - Generate static markup (fake environment) since app is served as .js
    │
    ├── /config
    │   ├── /apiClient.js           - api client config
    │   └── / *.js                  - other app config files
    │
    ├── /data
    │   ├── / *.json                - Data sources for app. Generated by the `/bin` helpers (or static)
    │   └── / cardPages.json        - Specifiaction against Visma backend. Name of pages = name of tables
    │
    ├── /docsite
    │   └── /                       - Auto-generated docs
    │
    ├── /import
    │   └── / *.csv                 - Raw .csv data from SSB (Used by `/bin` processors)
    │
    ├── /lib
    │   ├── /api-client             - Collates API's into single point of access (VISMA, Episerver & local .json files)
    │   ├── /http                   - (fetch implementation)
    │   └── *.js                    - Utility helpers. (check tests for documentation)
    │
    ├── /reducers
    │   ├── / index.js              - Reducer combiner
    │   └── / *.js                  - Redux reducers
    │
    ├── /static-routes
    │   └── / *.js                  - Defines the different bundles
    │
    ├── /stylesheets
    │   └── /bundles                - Used in dev/test mode (imports full stylesheet from node-modules)
    │
    ├── /test
    │   └── /                       - Test specs and runner config
    │
    └── /*                          - Project root


# TO-DO:

- Update docs solution
- Modularize chart library
- SEO: change page title when tab opens
- Implement normalize
- Replace custom http caller with fetch
- Look at more dynamic abstractions for placenames used throughout app


# Other notes

- babel polyfill is Included in bundle.